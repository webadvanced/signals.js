var signals=function(g,c){"use strict";var b=[],f,e,d,a,i,h;f=function(e){var d=a(e);if(b[d]===c)b[d]=[]};e=function(e,f,d){var c=a(e);b[c].push({callback:f,obj:d||g})};d=function(k,l,m){var j=a(l),e=b[j],d=0,g,f;if(e===c)return;if(k==="broadcast")f=i;else f=h;g=e.length;for(d;d<g;d+=1)f(e[d],m,e,d)};i=function(a,b){var c=a.obj,d=a.callback;g.setTimeout(function(){d.call(c,b)},0)};h=function(a,d,b,e){a!==c&&a.callback===d&&b.splice(e,1)};a=function(a){return a||"any"};return{subscribe:function(a,c,b){f(a);e(a,c,b)},broadcast:function(a,b){d("broadcast",a,b)},unsubscribe:function(a,b){d("unsubscribe",a,b)},isObservable:function(e){var d=a(e);return b[d]!==c},listenerCount:function(f){var e=a(f),d=b[e];return d!==c?d.length:0}}}(this)