var signals=function(g,c){"use strict";var a=[],i,h,f,b,l,k,d,j="function",e;e=function(c,a,b){if(typeof c!==a)throw b||"Invalid argument.";};i=function(e){var d=b(e);if(a[d]===c)a[d]=[]};h=function(l,c,i){var h=b(l),d=0,k,f;if(c instanceof Array){k=c.length;for(d;d<k;d++){f=c[d];e(f,j,"Callback must be a function");a[h].push({callback:f,obj:i||g})}}else{e(c,j,"Callback must be a function");a[h].push({callback:c,obj:i||g})}};f=function(n,m,g){var f=b(m),h=a[f+":before"],j=a[f],i=a[f+":after"],e;if(j===c)return;if(n==="broadcast")e=l;else e=k;h&&d(h,e,g);d(j,e,g);i&&d(i,e,g)};d=function(b,d,c){var a=0,e=b.length;for(a;a<e;a+=1)d(b[a],c,b,a)};l=function(a,b){var c=a.obj,d=a.callback;g.setTimeout(function(){d.call(c,b)},0)};k=function(a,d,b,e){a!==c&&a.callback===d&&b.splice(e,1)};b=function(a){return a||"any"};return{subscribe:function(a,b,c){i(a);h(a,b,c)},broadcast:function(a,b){f("broadcast",a,b)},unsubscribe:function(a,b){f("unsubscribe",a,b)},isObservable:function(d){var e=b(d);return a[e]!==c},listenerCount:function(e){var f=b(e),d=a[f];return d!==c?d.length:0}}}(this)